# Daily Log

**Date:** 26 January 2026

---

## ููุฎุต ุงููู ุฐุงูุฑุชู

Capter 4 Encoding and Evolution
- Modes of Dataflow
  - Dataflow Through Databases
  - Dataflow Through Services: REST and RPC
  - Message-Passing Dataflow


---

## ุชูุฎูุตู ููู ุฐุงูุฑุชู + ุดุฑุญู



### Modes of Dataflow 

ูู ุฃูู ุงูุดุงุจุชุฑ ุงุชูุงู ุฅู ุฃู ุฏุงุชุง ุนุงูุฒูู ูุจุนุชูุง ูุจุฑูุณูุณ ุชุงููุฉ **ูุด ุจุชุดุงุฑููุง ุงูููููุฑู** (ุฒู ุงูุดุจูุฉ ุฃู ูุงูู)ุ ูุงุฒู ูุนูููุง **Encoding** ููุญููููุง Bytes.
ูุงุชููููุง ูุจู ูุฏู ุนู formats ูุฎุชููุฉุ ูุนู **Forward / Backward Compatibility** ูุฏู ุฃุณุงุณ **Evolvability** ูุนูู ุงูุณูุณุชู ููุฏุฑ ูุชุบูุฑ ูู ุบูุฑ ูุง ููุณูุฑ ุงูุฏููุง.

ุจุณ ุงูุณุคุงู ุงูููู:
**ููู ุจูุนูู encode ูููู decodeุ**
ุฏู ุจูุฎุชูู ุญุณุจ ุทุฑููุฉ ุงูุชูุงู ุงูุฏุงุชุง.

ุงููุชุงุจ ุจููุณู ุทุฑู ุงูู Dataflow ูุซูุงุซุฉ:

1. ุนู ุทุฑูู **Database**
2. ุนู ุทุฑูู **Services (REST / RPC)**
3. ุนู ุทุฑูู **Asynchronous Messages** ุงู ุงู Queue

---

## 1 Dataflow Through Databases

* ุงููู **ุจููุชุจ** ูู ุงูุฏุงุชุงุจูุฒ = ุจูุนูู Encode
* ุงููู **ุจููุฑุง** = ุจูุนูู Decode

ูู ููุณ ุงูุจุฑูุงูุฌ:

* ูุฃูู ุจุชุจุนุช ุฑุณุงูุฉ ูููุณู ูู ุงููุณุชูุจู
* ูุงุฒู **Backward Compatibility** ุนุดุงู ุงููุณุฎุฉ ุงูุฌุฏูุฏุฉ ุชูุฑุง ุฏุงุชุง ูุฏููุฉ

ุจุณ ุบุงูุจูุง:

* ูู ุฃูุชุฑ ูู service ุฃู instance ุดุบุงููู ุนูู ููุณ DB
* ุฃุซูุงุก ุงูู deployment ูููู:

  * ููุฏ ุฌุฏูุฏ ููุชุจ ุฏุงุชุง
  * ููุฏ ูุฏูู ููุฌู ููุฑุงูุง

 ููุง ูุญุชุงุฌูู:

* **Backward compatibility** (ุงูุฌุฏูุฏ ููุฑุง ุงููุฏูู)
* **Forward compatibility** (ุงููุฏูู ููุฑุง ุงูุฌุฏูุฏ)

### ูุดููุฉ ุงู fields ุงูุฌุฏูุฏุฉ (ุงูููููุฉ)

* ุถููุง field ุฌุฏูุฏ
* ููุฏ ุฌุฏูุฏ ูุชุจ ุงููููุฉ
* ููุฏ ูุฏูู:

  * ูุฑุง record
  * ุนุฏูู ุญุงุฌุฉ ุชุงููุฉ
  * ูุชุจูุง ุชุงูู

 ุงูุฎุทุฑ:
ุงูููุฏ ุงููุฏูู **ูููู ููุณุญ ุงูู field ุงูุฌุฏูุฏ** ูุฃูู ูุด ูุงููู

ุงูุญู:

* Formats ุฒู Avro / Protobuf ุจุชุฏุนู ุงูุงุญุชูุงุธ ุจุงูู unknown fields
* ุจุณ ูุงุฒู ุชุงุฎุฏ ุจุงูู ุนูู ูุณุชูู ุงูุชุทุจูู (model โ encode โ decode)

---

## 2 Data outlives code (ุงูุฏุงุชุง ุจุชุนูุด ุฃุทูู ูู ุงูููุฏ)

* ุงูููุฏ ูููู ูุชุบูุฑ ูู ุฏูุงุฆู
* ุงูุฏุงุชุง:

  * ูู ูููุง ููุชูุจ ูู 5 ุซูุงูู
  * ููู ูููุง ูู 5 ุณููู

ุนุดุงู ูุฏู:

* ูุงุฏุฑูุง ูุง ูุนูู migration ูุงููุฉ
* ุฃุบูุจ ุงูู DBs ุชุณูุญ ุจุชุบููุฑุงุช ุจุณูุทุฉ ุฒู:

  * add column with null default
* ุงูุฏุงุชุง ุงููุฏููุฉ ุชูุถู ุฒู ูุง ูู

 ุงูุฎูุงุตุฉ:

* Schema Evolution ูุฎูู ุงูุฏุงุชุงุจูุฒ **ุชุจุงู** ูุฃููุง schema ูุงุญุฏุฉ
* ุฑุบู ุฅู ูุนูููุง ุงูุฏุงุชุง ูุชุฎุฒูุฉ ุจุตูุบ ูุฏููุฉ ูุฌุฏูุฏุฉ

---

## 3 Archival Storage (ุงููุณุฎ ุงูุงุญุชูุงุทู ู ุงูู Data Warehouse)

ููุง:

* ูุนูู snapshot
* ุฃู dump ููู warehouse

ุณุงุนุชูุง:

* ุจููุชุจ ุงูุฏุงุชุง ูููุง ุจู **ุฃุญุฏุซ schema**
* ูุฃููุง immutable ููุด ูุชุชุนุฏู

ุฃูุถู formats:

* **Avro** (object container)
* **Parquet** (column-oriented โ ููุชุงุฒ ููู analytics)

---

## 4 Dataflow Through Services (REST & RPC)

ููุง ุงูุชูุงุตู ุจูุจูู:

* Client โ Server
* ุนู ุทุฑูู Network

ูุซุงู:

* Browser โ Web Server
* Mobile App โ Backend
* Service โ Service (Microservices)

ุงูุณูุฑูุฑ:

* ุจูุนุฑุถ **API**
* ูุด Query Language ุฒู DB
* Inputs/Outputs ูุญุฏุฏุฉ ุญุณุจ business logic

ุงูููุฒุฉ:

* **Encapsulation**
* ุชุญูู ูู ุงููู ุงูููุงููุช ููุฏุฑ ูุนููู

---

## 5๏ธโฃ Microservices & Compatibility

ูุฏู ุงููุงููุฑูุณูุฑููุณุฒ:

* ูู service ูุณุชููุฉ
* ุชุชูุดุฑ ููุญุฏูุง
* ูู ุบูุฑ coordination ูุน ุจุงูู ุงููุฑู

ุจุงูุชุงูู:

* old + new versions ุดุบุงููู ูุน ุจุนุถ
* ูุงุฒู **encoding ูููู compatible ุนุจุฑ ุงูุฒูู**

---

## 6๏ธโฃ Web Services: REST vs SOAP

### REST

* ูุด protocolุ ุฏู **ููุณูุฉ ุชุตููู**
* ูุจูู ุนูู HTTP
* ุจุณูุท
* JSON ุบุงูุจูุง
* ููุงุณุจ ููู microservices
* ุณูู ุงูุชุทููุฑ ูุงูุชูุงูู

### SOAP

* XML-based
* ูุนูุฏ
* ุจูุนุชูุฏ ุนูู WS-* stack
* ูุญุชุงุฌ tooling ู code generation
* ุตุนุจ ูุน dynamic languages
* ูุดุงูู interoperability

๐ ุนุดุงู ูุฏู:

* SOAP ูุณู ููุฌูุฏ ูู ุดุฑูุงุช ูุจูุฑุฉ
* ุจุณ REST ูู ุงููุณูุทุฑ ุญุงูููุง



## ูุดุงูู ุงูู Remote Procedure Calls (RPC)

ุนูู ูุฏุงุฑ ุงูุณูููุ ุทูุน technologies ูุชูุฑ ูููุฑุฉ ุฅูู ุชูุงุฏู function ุนูู ุณูุฑูุฑ ุจุนูุฏ ูุฃููุง function ุนุงุฏูุฉ:

* EJB / RMI โ Java ุจุณ
* DCOM โ Microsoft ุจุณ
* CORBA โ ูุนูุฏ ุฌุฏูุง + ูููุด compatibility

ูููู ูุจูููู ุนูู ููุฑุฉ ูุงุญุฏุฉ:

> ูุฎูู ุงูู remote call ูุจุงู ูุฃูู local function call
> ูุฏู ุงุณูู **Location Transparency**

ุงููุดููุฉุ
ุงูููุฑุฉ ุฏู **ุบูุท ูู ุงูุฃุณุงุณ**.

---

### ููู ุงูู RPC ููุฑุฉ ูุถููุฉุ

#### 1๏ธโฃ ุงูู Local call predictable โ ุงูู Network call ูุง

* Local function:

  * ูุง ูุดุชุบู
  * ูุง ููุดู
* Network call:

  * request ูุถูุน
  * response ูุถูุน
  * ุงูุณูุฑูุฑ ูููุฌ
  * ุงูุดุจูุฉ ุชูุตู

๐ ูุดุงูู ุจุฑุง ุณูุทุฑุชู
๐ ูุงุฒู retriesุ timeoutsุ error handling

---

#### 2๏ธโฃ Timeout = ุฃุณูุฃ ุณููุงุฑูู

ูู ุญุตู timeout:

* ูุด ุนุงุฑู:

  * ุงูุทูุจ ูุตูุ
  * ููุง ููุตูุดุ
  * ููุง ุงุชููุฐ ูุงูู response ุถุงุนุ

ูุฏู ุจูุฎููู ุงูู state ุบุงูุถ ุฌุฏูุง


---

#### 3๏ธโฃ Retry ูููู ูุจููุธ ุงูุฏููุง

* request ูุตู
* response ุถุงุน
* ุนููุช retry
* ุงูุนูููุฉ ุงุชููุฐุช ูุฑุชูู 

ุงูุญู:

* **Idempotency** ููู ุงูู ุงููุตุทูุญ ุฏู
* deduplication logic

Local calls ููููุงุด ูู ุฏู.

---

#### 4๏ธโฃ Performance ูุงูู Latency

* Local function:

  * ููุณ ุงูููุช ุชูุฑูุจูุง ุฏุงูููุง
* Network:

  * ูุฑุฉ 1ms
  * ูุฑุฉ 5 ุซูุงูู
  * ูุฑุฉ timeout

  latency ูุชุบูุฑุฉ ุฌุฏูุง
 ูุตุนุจ ุชุนุชูุฏ ุนูููุง

---

#### 5๏ธโฃ Passing objects

* Local call:

  * pointers / references
* Network:

  * serialize ูู ุญุงุฌุฉ
  * objects ูุจูุฑุฉ 

---

#### 6๏ธโฃ Languages ูุฎุชููุฉ

* Client ุจูุบุฉ
* Server ุจูุบุฉ ุชุงููุฉ

ูุด ูู ุงููุบุงุช typesูุง ูุงุญุฏุฉ
(ุฒู JS ููุดููุฉ ุงูุฃุฑูุงู ุงููุจูุฑุฉ)


---

## ุงูุงุชุฌุงูุงุช ุงูุญุฏูุซุฉ ูู RPC

ุฑุบู ูู ุฏู:

* RPC ูุด ููููุช
* ุจุณ ุงุชุทูุฑ ูุจูู ุฃูุถุญ ูู ูุดุงููู

ุฃูุซูุฉ:

* gRPC โ Protobuf
* Thrift / Avro RPC
* Finagle
* Rest.li

### ุงูุชุญุณููุงุช:

* **Futures / Promises**

  * async
  * failure-aware
* **Streams** (gRPC)

  * request/response ูุด ูุฑุฉ ูุงุญุฏุฉ
* **Service Discovery**

  * ุงูุณูุฑูุฑ ููุงูู ูููุ

---

### RPC vs REST (Performance vs Usability)

RPC:

* ุฃุณุฑุน
* binary encoding
* ููุงุณุจ internal services

REST:

* ุณูู
* debugging ุจู curl
* browser-friendly
* ecosystem ุถุฎู
* ูู ุงููุบุงุช ุจุชุฏุนูู

 ุนุดุงู ูุฏู:

* Public APIs = REST
* Internal services = RPC ุฃุญูุงููุง

---

## Data Encoding & Evolution ูู RPC

ุงูุชุฑุงุถ ููู:

* ุงูุณูุฑูุฑุฒ ุจุชุชุญุฏุซ ุงูุฃูู
* ุงูููุงููุชุณ ุจุนุฏูู

ุจุงูุชุงูู:

* Requests โ **Backward compatible**
* Responses โ **Forward compatible**

ุญุณุจ ุงูู encoding:

* Protobuf / Thrift / Avro โ rules ูุงุถุญุฉ
* SOAP โ XML schemas (ูุน pitfalls)
* REST + JSON:

  * add optional params โ
  * add fields ูู response โ

---

### ูุดููุฉ Versioning

* Clients ุจุฑุง ุงูุดุฑูุฉ
* ูุด ุชูุฏุฑ ุชุฌุจุฑูู ูุญุฏุซูุง

ุงูุญููู:

* version ูู URL
* version ูู HTTP headers
* version ูุฑุจูุท ุจุงูู API key

ูุบุงูุจูุง:

* ุฃูุชุฑ ูู version ุดุบุงููู ูุน ุจุนุถ

---

## Message-Passing Dataflow (ุงูู Asynchronous Way)

ุฏู ุทุฑููุฉ ูู ุงููุต ุจูู:

* RPC
* Databases

ุงูููุฑุฉ:

* Sender ูุจุนุช message
* Broker (Kafka / RabbitMQ)
* Consumer ูุณุชูุจู

### ูููุฒุงุช ุนู RPC:

* Buffering
* Retry ุชููุงุฆู
* No tight coupling
* Broadcast (one-to-many)
* Sender ูุด ูุญุชุงุฌ ูุนุฑู receiver

### ูุฑู ููู:

* **One-way**
* Async
* ูููุด response ูุจุงุดุฑ

---

## Message Brokers

ุฃูุซูุฉ:

* RabbitMQ
* Kafka
* ActiveMQ
* NATS

ุงูููุท:

* Producer โ Topic / Queue
* Broker โ Consumers

Encoding:

* ุฃู ุญุงุฌุฉ
* ุจุณ ุงูุฃูุถู backward + forward compatible

---

## Distributed Actor Frameworks

Actor Model:

* no threads
* no locks
* message-based
* ูู actor state ุฎุงุต ุจูู

ูู ุงูู distributed version:

* ููุณ model
* local ุฃู remote ูุด ูุงุฑู
* message ูููู ุชุถูุน (ุนุงุฏู)

ููู actor model ุฃุญุณู ูู RPCุ

* ุฃุตูุงู ูุชููุน failure
* ูููุด ููู local vs remote

